{% extends 'base.html.twig' %}

{% block title %}List des users!
{% endblock %}

{% block body %}
	<body id="app-container" class="menu-default show-spinner">
		{% include "includes/body_dash.html.twig" %}
		<main>
			<div class="container-fluid disable-text-selection">
				<div class="col-12">
						<div class="mb-2">
							<h1>List des users !</h1>
							<div class="top-right-button-container">
							<a href="{{path('app_register')}}">
								<button type="button" class="btn btn-primary btn-lg top-right-button mr-1">AJOUTER NOUVEAU</button>
							</a>
							</div>
					
						</div>

						<div class="mb-2">
							<a class="btn pt-0 pl-0 d-inline-block d-md-none" data-toggle="collapse" href="#displayOptions" role="button" aria-expanded="true" aria-controls="displayOptions">
								Display Options
								<i class="simple-icon-arrow-down align-middle"></i>
							</a>
							<div class="collapse dont-collapse-sm" id="displayOptions">
								
								<div class="d-block d-md-inline-block">
									<div class="btn-group float-md-left mr-1 mb-1">
										<button class="btn btn-outline-dark btn-xs dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
											Trier par Departement
										</button>
										<div class="dropdown-menu">
											<a class="dropdown-item" href="#">Action</a>
											<a class="dropdown-item" href="#">Another action</a>
										</div>
									</div>
									<div class="search-sm  d-inline-block float-md-left mr-1 mb-1 align-top">
										<input class="form-control" placeholder="Rechercher par nom">
									</div>
								</div>
							
							</div>
						</div>
						<div class="separator mb-5"></div>
						
					</div>
				</div>
					</div>
					<!-- header_list -->
					<div class="row">
						<div class="col-12 list" >
							<div class="card d-flex flex-row mb-3">
								<div class="d-flex flex-grow-1 min-width-zero">
									<div class="card-body align-self-center d-flex flex-column flex-md-row justify-content-between min-width-zero align-items-md-center">

										<a class="list-item-heading mb-0 truncate w-40 w-xs-100" href="">
											Nom
										</a>

										<a class="list-item-heading mb-0 truncate w-40 w-xs-100" href="">
											Cin
										</a>

										<a class="list-item-heading mb-0 truncate w-40 w-xs-100" href="">
											Telephone
										</a>

										<a class="list-item-heading mb-0 truncate w-40 w-xs-100" href="">
											Role
										</a>

										<a class="list-item-heading mb-0 truncate w-40 w-xs-100" href="">
											Image
										</a>

										<!-- Action -->
										<div class="w-15 w-xs-100">
											<a href="">
												
											</a>
										</div>

										<div class="w-15 w-xs-100">
											<a href="">
											Action
											</a>
										</div>
										
										<div class="w-15 w-xs-100">
											<a href="">
												
											</a>
										</div>
										<!--end  Action -->


									</div>

								</div>
							</div>
					<!-- end header_list-->
				{% for user in user %}
					<div class="row">
						<div class="col-12 list">
							<div class="separator mb-5">
								<div class="d-flex flex-grow-1 min-width-zero">
									<div class="card-body align-self-center d-flex flex-column flex-md-row justify-content-between min-width-zero align-items-md-center">

										<a class="list-item-heading mb-0 truncate w-40 w-xs-100" href="">
											{{user.nom}}
										</a>

										<a class="list-item-heading mb-0 truncate w-40 w-xs-100" href="">
											{{user.cin}}
										</a>

										<a class="list-item-heading mb-0 truncate w-40 w-xs-100" href="">
											{{user.tel}}
										</a>
                        				{% for role in user.roles %}
                                        <a class="list-item-heading mb-0 truncate w-40 w-xs-100" href="">
										{% if role == "ROLE_USER" %}
										 Utilisateur
										 {% elseif  role == "ROLE_ADMIN" %}
											 Administrateur
										 {% elseif  role == "ROLE_Employer" %}
										Employer
										{% endif %}

										</a>
										{% endfor %}

										<a class="list-item-heading mb-0 truncate w-40 w-xs-100" href="">
											<img alt="profile" style="width:50px" src="uploads\brochures\{{user.image}}">
										</a>

										<!-- Action -->
										<div class="w-15 w-xs-100">
											<a href="{{url('user_show',{id:user.id})}}">
												<span class="badge badge-pill badge-secondary">Voir</span>
											</a>
										</div>

										<div class="w-15 w-xs-100">
											<a href="{{url('user_edit',{id:user.id})}}">
												<span class="badge badge-pill badge-secondary">Modifier</span>
											</a>
										</div>
										
										<div class="w-15 w-xs-100">
											<a href="{{url('user_delete',{id:user.id})}}">
												<span class="badge badge-pill badge-secondary">Supprimer</span>
											</a>
										</div>
										<!--end  Action -->


									</div>

								</div>
							</div>
						{% endfor %}
						
						<!-- end list -->

                      <!-- start pagination -->
						 <nav class="mt-4 mb-3">
							<ul class="pagination justify-content-center mb-0">
							{{knp_pagination_render(user)}}
							</ul>
                        </nav>
					  <!-- end pagination -->
					</div>
				</div>
			</div>
		</main>

		{% include "includes/footer.html.twig" %}


	</body>

{% endblock %}
